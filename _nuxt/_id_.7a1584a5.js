import{_ as P,a as S}from"./SingleAttractions.b1bdd7fd.js";import{d as j,g as m,C as F,z as c,D as M,A as T,o as r,c as $,e as s,b as U,t as f,k as g,j as y,F as z,h as E,w as q}from"./entry.e92ce825.js";import{_ as G}from"./Breadcrumb.vue.2cc3ac74.js";import{_ as H}from"./Button.vue.3f754c7e.js";import{$ as I}from"./useFetcher.877efc91.js";import{u as J}from"./destination.0d706bcc.js";import"./Preloader.6b48da1e.js";import"./_plugin-vue_export-helper.c27b6911.js";const K={class:"min-h-[calc(100vh-239px)]"},O={class:"pt-20 md:pt-[120px]"},Q={class:"container pt-5 md:pt-9 pb-5 md:pb-[74px]"},W={class:"flex items-start md:items-center justify-between mb-7 md:flex-row flex-col md:space-y-0 space-y-3"},X={class:"space-y-2"},Y={class:"font-bold leading-130 text-3xl md:text-40 text-white font-playfair"},Z={class:"text-sm text-white/60 font-semibold leading-130"},tt={class:"grid sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-6 sm:gap-6"},at={class:"flex-center space-x-1"},et=s("span",{class:"icon-arrow-right text-2xl rotate-90"},null,-1),ut=j({__name:"[id]",setup(st){const l=J(),C=m(()=>{var t,a;return[{title:"attractions",link:"/"},{title:(t=o==null?void 0:o.value)==null?void 0:t.title,link:`/country/${i.params.id}`},{title:(a=_==null?void 0:_.value)==null?void 0:a.title,link:"/"}]}),i=F(),u=c([]),v=c(void 0),n=c(1),h=c(12),d=c(!1),D=m(()=>l.religionList),_=m(()=>{var t;return(t=l.religionList)==null?void 0:t.find(a=>(a==null?void 0:a.id)===(n==null?void 0:n.value))}),o=m(()=>{var t;return(t=l==null?void 0:l.countryList)==null?void 0:t.find(a=>{var e;return(a==null?void 0:a.id)===+((e=i==null?void 0:i.params)==null?void 0:e.id)})});function p(){return d.value=!0,new Promise((t,a)=>{I.$get("/destination/CountryAttractionListByReligion",{params:{religion__id:n.value,destination_country__id:i.params.id,limit:h.value}}).then(e=>{u.value=e.results,v.value=e==null?void 0:e.next,t(e)}).catch(e=>{a(e)}).finally(()=>{setTimeout(()=>{d.value=!1},300)})})}const L=t=>{n.value=t},k=()=>{h.value+=12,p()};M(()=>{p()});async function B(){var t;return await Promise.all([l.fetchReligionList((t=i==null?void 0:i.params)==null?void 0:t.id)])}B(),T(()=>n.value,()=>{p()});function R(t,a){if(a&&t)return a===0||a===1?t:t==null?void 0:t.replace("{ n }",a)}return(t,a)=>{var x,w,b;const e=P,V=S;return r(),$("div",K,[s("div",O,[U(G,{menu:C.value,class:"container px-0"},null,8,["menu"]),s("div",Q,[s("div",W,[s("div",X,[s("h1",Y,f(t.$t("attractions")),1),s("p",Z,f(R(t.$t("all_attract",(x=o.value)==null?void 0:x.title),(w=o.value)==null?void 0:w.title)),1)]),(b=u.value)!=null&&b.length?(r(),g(e,{key:0,list:D.value,"model-value":n.value,"onUpdate:modelValue":L,class:"!w-auto"},null,8,["list","model-value"])):y("",!0)]),s("div",tt,[(r(!0),$(z,null,E(u.value,(A,N)=>(r(),g(V,{data:A,"card-loading":d.value,"title-class":"!text-base !font-semibold !leading-130","text-class":"!text-sm !font-medium !leading-130",key:N,"card-class":"w-full sm:!w-[178px] !h-[200px]"},null,8,["data","card-loading"]))),128))]),v.value?(r(),g(H,{key:0,onClick:k,variant:"secondary",loading:d.value,"button-class":"lg:!px-7 lg:!px-3",class:"mx-auto mt-9"},{default:q(()=>[s("div",at,[s("span",null,f(t.$t("load_more")),1),et])]),_:1},8,["loading"])):y("",!0)])])])}}});export{ut as default};
