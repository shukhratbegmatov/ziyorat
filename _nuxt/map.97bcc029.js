import{_ as le}from"./Logo.vue.8bb4b0bc.js";import{d as j,z as C,A as F,D as J,o as r,c as h,e as u,n as U,H as ae,m as x,F as T,h as A,t as R,b,w as V,_ as Q,g as N,x as Y,k as z,j as L,T as ne,p as se,l as ie,v as P,B as W,y as re,u as ue,a1 as de,C as ce}from"./entry.c27e299b.js";import{_ as pe}from"./Input.4b5f058c.js";import{_ as me}from"./ReligionBadge.vue.c77e2899.js";import{_ as he,a as ve}from"./Preloader.1d7e9d38.js";import{E as q}from"./religions.8734ae30.js";import{d as fe}from"./useFetcher.bc9e27e3.js";import{u as X,a as ge}from"./index.b028eb5d.js";import{u as Z}from"./destination.ae736657.js";import{_ as ee}from"./_plugin-vue_export-helper.c27b6911.js";import{_ as _e}from"./Label.vue.0836b09d.js";import{_ as be}from"./Button.vue.c7ec2695.js";import{_ as ye}from"./Modal.724a5e87.js";import{u as ke}from"./useMounted.737abf84.js";import"./index.d75dccdd.js";const xe={class:"main-tab relative bg-white/12 rounded-full flex w-max transition-300 overflow-hidden"},we=["id","onClick"],$e=j({__name:"Tab",props:{modelValue:{},list:{},itemClass:{},activeClass:{}},emits:["update:modelValue"],setup(w,{emit:d}){const y=w,v=d,i=C({left:0,width:0}),o=(s,l)=>{const t=l.target;i.value={left:t==null?void 0:t.offsetLeft,width:t==null?void 0:t.offsetWidth},v("update:modelValue",s)};return F(()=>y.modelValue,()=>{const s=document.getElementById(`item_${y.modelValue}`);o(y.modelValue,{target:s})}),J(()=>{const s=document.getElementById(`item_${y.modelValue}`);setTimeout(()=>{o(y.modelValue,{target:s})},1)}),(s,l)=>(r(),h("div",xe,[u("div",{class:U([s.activeClass,"absolute h-full rounded-full bg-white w-full -translate-y-1/2 top-1/2 transition-300 text-dark"]),style:ae({width:`${x(i).width}px`,left:`${x(i).left}px`})},null,6),(r(!0),h(T,null,A(s.list,(t,p)=>(r(),h("button",{id:`item_${t.value}`,key:p,class:U([[s.itemClass,s.modelValue===t.value?"text-dark hover:!text-dark":"!text-white"],"tabs py-2.5 px-6 rounded-full transition-300 w-full text-lg font-medium z-10 hover:text-dark font-medium tabs"]),onClick:$=>o(t.value,$)},R(t.label),11,we))),128))]))}}),Ce={class:"flex gap-3 h-max cursor-pointer pr-2 py-4 border-b border-dark-200"},Ve={class:"aspect-location-image overflow-hidden rounded shrink-0 w-[118px] relative border-white/12"},Se=["src"],Me={class:"absolute w-full h-full opacity-0 top-0 lef-0 transition-300 group-hover:opacity-40 bg-dark/80 group-hover:bg-dark flex flex-col items-center justify-center hover:!opacity-100 hover:!bg-dark/80"},Be=u("i",{class:"icon-external-link text-white text-2xl"},null,-1),Ie={class:"text-white text-xs"},De={class:"text-gray-300 text-sm mb-1 line-clamp-1"},Le={class:"text-white font-semibold line-clamp-2"},Ue=j({__name:"LocationItem",props:{data:{},loading:{type:Boolean}},setup(w){return(d,y)=>{var s;const v=me,i=he,o=Q;return r(),h("div",{class:U(["flex pl-5 transition-300 hover:bg-white/5 group cursor-pointer",{"bg-white/[3%]":d.loading}])},[u("div",Ce,[b(o,{to:d.localePath(`/destination/${(s=d.data)==null?void 0:s.slug}`)},{default:V(()=>[b(i,{width:"118px",height:"72px","border-radius":"4px",loading:d.loading},{default:V(()=>{var l,t,p;return[u("div",Ve,[u("img",{src:(l=d.data)==null?void 0:l.image,alt:"location image",class:"w-full h-full object-cover"},null,8,Se),b(v,{class:"absolute bottom-2 left-2",type:(p=(t=d.data)==null?void 0:t.religion)==null?void 0:p.type},null,8,["type"]),u("div",Me,[Be,u("span",Ie,R(d.$t("view")),1)])])]}),_:1},8,["loading"])]),_:1},8,["to"]),u("div",null,[b(i,{width:"98px",height:"18px","border-radius":"4px",loading:d.loading,"preloader-class":"mb-1"},{default:V(()=>{var l,t,p,$,S,M;return[u("p",De,R((p=(t=(l=d.data)==null?void 0:l.region)==null?void 0:t.country)!=null&&p.title?(M=(S=($=d.data)==null?void 0:$.region)==null?void 0:S.country)==null?void 0:M.title:"Baku, Azerbaijan"),1)]}),_:1},8,["loading"]),b(i,{width:"200px",height:"18px","border-radius":"4px",loading:d.loading},{default:V(()=>{var l;return[u("h4",Le,R((l=d.data)==null?void 0:l.title),1)]}),_:1},8,["loading"])])])],2)}}}),Fe={class:"relative"},oe=j({__name:"Main",props:{modelValue:{},locations:{},mapClass:{},defaultCoords:{}},emits:["update:modelValue"],setup(w,{emit:d}){const y=C(14),v=w,i=d;function o(n){switch(n){case q.ISLAM:return"/svg/religions/islam.svg";case q.CHRISTIANITY:return"/svg/religions/christianity.svg";case q.BUDDHISM:return"/svg/religions/buddhism.svg";case q.ABOUT:return"/svg/religions/about.svg";default:return""}}const s=n=>({layout:"default#imageWithContent",imageHref:o(n),imageSize:[50,50],imageOffset:[-20,-30]}),l=n=>n.split(";"),t=C([41.31,69.26]);F(()=>v.defaultCoords,()=>{var n;(n=v.defaultCoords)!=null&&n.length&&(t.value=v.defaultCoords)},{immediate:!0}),F(()=>t.value,()=>{i("update:modelValue",t.value)},{deep:!0});const p=C({apiKey:"",lang:"ru_RU",coordorder:"latlong",version:"2.1"}),$=N(()=>function(n){var e,a,k;return`
         <a href="/destination/${n==null?void 0:n.slug}"  class="relative bg-dark rounded-xl overflow-visible p-2 inline-block w-[142px]">
          <img
            src="${n==null?void 0:n.image}"
            class="object-cover h-20 max-w-[126px] w-full rounded-xl"
            alt="Map image"
          />
          <p class="mt-2 mb-1 text-[10px] text-[#83848D] line-clamp-1 leading-120">
            ${(e=n==null?void 0:n.region)==null?void 0:e.title} ${(a=n==null?void 0:n.region)!=null&&a.title?"<span>,</span>":""}
                 ${(k=n==null?void 0:n.destination_country)==null?void 0:k.title}
          </p>
          <p class="text-xs text-white font-semibold leading-130"> ${n==null?void 0:n.title} </p>

      </a>
    `});function S(n){n.get("target").balloon.open()}function M(n){n.get("target").balloon.close()}function B(n){setTimeout(()=>{n.get("target").balloon.close()},1500)}return(n,e)=>{const a=Y("ymap-marker"),k=Y("yandex-map"),f=ve;return r(),h("div",Fe,[b(f,null,{default:V(()=>[b(k,{class:U(["h-full w-full",n.mapClass]),coords:x(t),settings:x(p),zoom:x(y),controls:[]},{default:V(()=>[(r(!0),h(T,null,A(n.locations,(g,m)=>{var _;return r(),z(a,{key:m,coords:l(g.location),"marker-id":"123","hint-content":g.name,icon:s((_=g==null?void 0:g.religion)==null?void 0:_.type),"balloon-template":x($)(g),onMouseenter:S,onMouseleave:M,onBalloonopen:B},null,8,["coords","hint-content","icon","balloon-template"])}),128))]),_:1},8,["coords","settings","zoom","class"])]),_:1})])}}});const Te=""+globalThis.__publicAssetsURL("svg/empty-state.svg"),E=w=>(se("data-v-38ddace4"),w=w(),ie(),w),Ke={class:"h-screen grid grid-rows-max-1 w-[404px] bg-dark map-sidebar"},je={class:"border-b border-white/8 p-5"},Oe={class:"flex items-center gap-2 mb-3"},Re=E(()=>u("i",{class:"icon-arrow-left text-white text-2xl transition-300 group-hover:text-white/60"},null,-1)),ze=[Re],Ae={key:0,class:"flex gap-3"},Ne=E(()=>u("span",{class:"icon-search text-xl leading-5 text-gray-400 mr-2 transition-300"},null,-1)),Ee=E(()=>u("i",{class:"icon-sliders text-2xl"},null,-1)),qe=[Ee],He={key:0},Pe={key:0,class:"flex gap-3 my-4"},We=E(()=>u("span",{class:"icon-search text-xl leading-5 text-gray-400 mr-2 transition-300"},null,-1)),Ge=E(()=>u("i",{class:"icon-sliders text-2xl"},null,-1)),Ye=[Ge],Je={key:1,class:"py-4"},Qe={class:"flex flex-col justify-center items-center pt-6 pb-8 border-b border-b-white/10"},Xe=E(()=>u("img",{src:Te,alt:"No data"},null,-1)),Ze={class:"mt-4 text-white/60 max-w-[280px] text-center font-medium"},eo={class:"text-white px-5 mt-4 text-lg font-medium"},oo={key:1,class:"w-full h-full"},to=j({__name:"Sidebar",props:{locations:{},popular:{},loading:{type:Boolean}},emits:["open-filter","handleSearch","observe","observeDestinations"],setup(w,{emit:d}){const{width:y}=X(),v=d,i=Z(),o=C(""),s=C([]),l=C(null),t=C(!1),p=N(()=>i.next);ge(l,([{isIntersecting:e}],a)=>{t.value=e,t.value&&(p==null?void 0:p.value)!==null&&v("observeDestinations")});const $=e=>{o.value=e,fe("search",()=>{v("handleSearch",o.value)})};function S(){o.value="",v("handleSearch","")}function M(e){var a;y.value<900&&(B.value="map"),s.value=(a=e==null?void 0:e.location)==null?void 0:a.split(";"),v("observe",e)}const B=C("list"),n=[{label:"Map",value:"map"},{label:"List",value:"list"}];return(e,a)=>{const k=le,f=Q,g=pe,m=$e,_=Ue,I=oe;return r(),h("aside",Ke,[u("div",je,[u("div",Oe,[u("button",{onClick:a[0]||(a[0]=c=>e.$router.push("/")),class:"group"},ze),b(f,{to:e.localePath("/")},{default:V(()=>[(r(),z(k,{key:e.loading}))]),_:1},8,["to"])]),x(y)>900?(r(),h("div",Ae,[b(g,{modelValue:o.value,"onUpdate:modelValue":[a[1]||(a[1]=c=>o.value=c),$],placeholder:e.$t("search")},{prefix:V(()=>[Ne]),suffix:V(()=>{var c;return[u("span",{class:U(["icon-xmark text-gray-400 -my-0.5 text-2xl leading-6 transition duration-300 cursor-pointer hover:text-gray",(c=o.value)!=null&&c.length?"opacity-100 visible":"opacity-0 invisible"]),onClick:S},null,2)]}),_:1},8,["modelValue","placeholder"]),u("button",{class:"shrink-0 text-gray-200 transition-300 hover:text-white",onClick:a[2]||(a[2]=c=>v("open-filter"))},qe)])):L("",!0),b(m,{list:n,modelValue:B.value,"onUpdate:modelValue":a[3]||(a[3]=c=>B.value=c),class:"!w-full mt-4 hidden tab-sidebar"},null,8,["modelValue"])]),b(ne,{name:"fade",mode:"out-in"},{default:V(()=>{var c,K,O,G;return[(r(),h("div",{key:B.value,class:"h-full max-h-full overflow-y-auto custom-scroll px-4 lg:px-0"},[B.value==="list"?(r(),h("div",He,[x(y)<900?(r(),h("div",Pe,[b(g,{modelValue:o.value,"onUpdate:modelValue":[a[4]||(a[4]=D=>o.value=D),$],placeholder:e.$t("search")},{prefix:V(()=>[We]),suffix:V(()=>{var D;return[u("span",{class:U(["icon-xmark text-gray-400 -my-0.5 text-2xl leading-6 transition duration-300 cursor-pointer hover:text-gray",(D=o.value)!=null&&D.length?"opacity-100 visible":"opacity-0 invisible"]),onClick:S},null,2)]}),_:1},8,["modelValue","placeholder"]),u("button",{class:"shrink-0 text-gray-200 transition-300 hover:text-white",onClick:a[5]||(a[5]=D=>v("open-filter"))},Ye)])):L("",!0),(c=e.locations)!=null&&c.length?(r(),h("div",Je,[(r(!0),h(T,null,A(e.loading?13:e.locations,(D,H)=>(r(),z(_,{key:H,loading:e.loading,data:D,onClick:_o=>M(D)},null,8,["loading","data","onClick"]))),128)),u("div",{ref_key:"target",ref:l},null,512)])):L("",!0),!((K=e.locations)!=null&&K.length)&&((O=e.popular)!=null&&O.length)?(r(),h(T,{key:2},[u("div",Qe,[Xe,u("p",Ze,R(e.$t("no_results_found_text")),1)]),(G=e.popular)!=null&&G.length?(r(),h(T,{key:0},[u("h3",eo,R(e.$t("popular_attractions")),1),(r(!0),h(T,null,A(e.popular,(D,H)=>(r(),z(_,{key:H,data:D},null,8,["data"]))),128))],64)):L("",!0)],64)):L("",!0)])):(r(),h("div",oo,[b(I,{"default-coords":s.value,locations:e.locations},null,8,["default-coords","locations"])]))]))]}),_:1})])}}});const lo=ee(to,[["__scopeId","data-v-38ddace4"]]),ao={class:"pr-8 flex items-center"},no=["src"],so=["value","name"],te=j({__name:"Checkbox",props:{modelValue:{type:[String,Number,Boolean]},label:{},name:{},value:{type:[String,Number,Boolean]},disabled:{type:Boolean},error:{type:Boolean},labelStyles:{},icon:{},checked:{type:Boolean}},emits:["update:modelValue"],setup(w,{emit:d}){const y=d,v=i=>{const o=i.target;y("update:modelValue",o==null?void 0:o.value)};return(i,o)=>(r(),h("label",{class:U(["group inline-flex items-center relative select-none min-h-[24px] px-5 py-3 border border-white/8 rounded-lg transition-300 hover:border-white/40",i.disabled?"cursor-not-allowed":"cursor-pointer"])},[u("div",ao,[P(i.$slots,"label",{},()=>[i.icon?(r(),h("img",{key:0,src:i.icon,alt:"icon",class:"rounded-full mr-3 w-6 h-6"},null,8,no)):L("",!0),u("span",{class:U(["font-medium letter-3 leading-130 text-white text-base",i.labelStyles])},R(i.label),3)])]),u("input",W({disabled:i.disabled,checked:i.checked},{type:"checkbox",class:"absolute opacity-0 invisible h-0 w-0 peer",value:i.value,name:i.name,onChange:v}),null,16,so),u("span",{class:U(["duration-200 ease-in-out absolute right-5 inline-block h-6 w-6 rounded border-2 peer-checked:-rotate-90 peer-checked:after:opacity-100 peer-checked:after:rotate-[138deg] after:transition-all after:duration-200 after:absolute after:left-2 after:top-[5px] after:w-1.5 after:h-3 after:border-r-[2.2px] after:border-b-[2.2px] after:rotate-[0deg] after:opacity-0","border-grey-light peer-checked:border-orange peer-checked:bg-orange after:border-white peer-disabled:border-grey-100 peer-disabled:after:border-grey-100",{"!border-danger":i.error,"group-hover:border-primary":!i.disabled}])},null,2)],2))}}),io=j({__name:"CheckboxGroup",props:{modelValue:{},items:{},labelKey:{default:"name"},valueKey:{default:"id"},wrapperClass:{default:"flex flex-wrap gap-4"},name:{default:`k-checkbox-${Math.floor(Math.random()*1e3)}`},isAll:{type:Boolean}},emits:["update:modelValue"],setup(w,{emit:d}){const y=w,v=d,i=o=>{const s=[...y.modelValue];s.includes(o)?s.splice(s.indexOf(o),1):s.push(o),v("update:modelValue",s)};return(o,s)=>{const l=te;return P(o.$slots,"default",{},()=>[o.items&&Object.keys(o.items).length>0?(r(),h("div",{key:0,class:U(o.wrapperClass)},[o.isAll?P(o.$slots,"all",{key:0}):L("",!0),(r(!0),h(T,null,A(o.items,(t,p)=>{var $;return r(),z(l,{key:p,label:t[o.labelKey],value:t[o.valueKey],name:o.name,checked:($=o.modelValue)==null?void 0:$.includes(String(t.id)),icon:t.flag,"onUpdate:modelValue":i},null,8,["label","value","name","checked","icon"])}),128))],2)):L("",!0)])}}});function ro(w,d){return[{label:w("choose_religion"),name:"religion",labelKey:"title",valueKey:"id",options:d==null?void 0:d.religion},{label:w("choose_country"),name:"country",labelKey:"title",valueKey:"id",options:d==null?void 0:d.country}]}const uo={class:"text-white flex flex-col"},co={class:"space-y-6 overflow-y-auto max-h-[500px] lg:max-h-fit p-5"},po={class:"flex items-center gap-4 p-5"},mo=j({__name:"Modal",props:{show:{type:Boolean},religions:{},countries:{}},emits:["close","handleFilter"],setup(w,{emit:d}){const{t:y}=re(),v=ue(),i=de(),o=w,s=d,l=C({religion:[],country:[]}),t=C(!1),p=C(!1),$=N(()=>{const e={religion:o==null?void 0:o.religions,country:o==null?void 0:o.countries};return ro(y,e)}),S=()=>{var a,k,f,g;const e={...v.query,religion:(a=l.value.religion)==null?void 0:a.join(","),country:(k=l.value.country)==null?void 0:k.join(",")};i.push({...v,query:{...e}}),s("handleFilter",{religion:t.value||(f=l.value.religion)==null?void 0:f.join(","),country:p.value||(g=l.value.country)==null?void 0:g.join(",")}),s("close")},M=()=>{for(const e in l.value)l.value[e]=void 0;S()};F(()=>o.show,()=>{var e,a;o.show?(l.value.religion=((e=v.query.religion)==null?void 0:e.split(","))??[],l.value.country=((a=v.query.country)==null?void 0:a.split(","))??[]):(l.value.religion=[],l.value.country=[])});function B(e){t.value=!t.value}function n(e){p.value=!p.value}return F(()=>t.value,()=>{var e,a,k;t.value?(e=o.religions)==null||e.forEach(f=>{var g,m;(g=l.value.religion)!=null&&g.includes(String(f==null?void 0:f.id))||(m=l.value.religion)==null||m.push(String(f==null?void 0:f.id))}):((a=l.value.religion)==null?void 0:a.length)===((k=o.religions)==null?void 0:k.length)&&(l.value.religion=[])}),F(()=>l.value.religion,()=>{var e,a;t.value=((e=l.value.religion)==null?void 0:e.length)===((a=o.religions)==null?void 0:a.length)},{deep:!0}),F(()=>p.value,()=>{var e,a,k;p.value?(e=o.countries)==null||e.forEach(f=>{var g,m;(g=l.value.country)!=null&&g.includes(String(f==null?void 0:f.id))||(m=l.value.country)==null||m.push(String(f==null?void 0:f.id))}):((a=l.value.country)==null?void 0:a.length)===((k=o.countries)==null?void 0:k.length)&&(l.value.country=[])}),F(()=>l.value.country,()=>{var e,a;p.value=((e=l.value.country)==null?void 0:e.length)===((a=o.countries)==null?void 0:a.length)},{deep:!0}),(e,a)=>{const k=_e,f=te,g=io,m=be,_=ye;return r(),h("div",null,[b(_,W({show:e.show},{title:e.$t("filter"),onClose:a[1]||(a[1]=I=>s("close"))}),{default:V(()=>{var I;return[u("div",uo,[u("div",co,[(r(!0),h(T,null,A((I=x($))==null?void 0:I.slice(0,1),(c,K)=>(r(),h("div",{class:"relative",key:K},[b(k,{label:c.label,"for-id":c.name,class:"mb-4"},null,8,["label","for-id"]),b(g,{items:c.options,name:c.name,"label-key":c.labelKey,"value-key":c.valueKey,modelValue:x(l).religion,"onUpdate:modelValue":a[0]||(a[0]=O=>x(l).religion=O),"wrapper-class":"grid md:grid-cols-2 grid-cols-1 gap-5","is-all":""},{all:V(()=>[b(f,{label:e.$t("all"),value:!x(t),checked:x(t),name:e.name,"onUpdate:modelValue":B},null,8,["label","value","checked","name"])]),_:2},1032,["items","name","label-key","value-key","modelValue"])]))),128)),(r(!0),h(T,null,A(x($).slice(1,2),(c,K)=>(r(),h("div",{class:"relative",key:K},[b(k,{label:c.label,"for-id":c.name,class:"mb-4"},null,8,["label","for-id"]),b(g,{items:c.options,name:c.name,"label-key":c.labelKey,"value-key":c.valueKey,modelValue:x(l)[c.name],"onUpdate:modelValue":O=>x(l)[c.name]=O,"wrapper-class":"grid md:grid-cols-2 grid-cols-1 gap-5","is-all":""},{all:V(()=>[b(f,{label:e.$t("all"),value:!x(p),checked:x(p),name:e.name,"onUpdate:modelValue":n},null,8,["label","value","checked","name"])]),_:2},1032,["items","name","label-key","value-key","modelValue","onUpdate:modelValue"])]))),128))]),u("div",po,[b(m,{text:e.$t("clear"),class:"w-full",variant:"secondary",onClick:M},null,8,["text"]),b(m,{text:e.$t("apply"),class:"w-full",onClick:S},null,8,["text"])])])]}),_:1},16,["title"])])}}}),ho={class:"h-screen w-screen grid grid-cols-max-1 overflow-hidden map-wrapper"},vo={key:1,class:"w-full h-full"},fo={id:"map",class:"w-full h-full"},go=j({__name:"map",setup(w){const{width:d}=X(),y=ke(),v=C([]),i=ce(),o=C(!1),s=Z(),l=N(()=>s.popularDestination),t=C([]),p=C(100),$=N(()=>s.religionList),S=N(()=>s.countryList),M=C(!1),B=()=>{o.value=!0,n(),s.fetchPopularDestination(),s.fetchReligionList(),s.fetchCountryList()},n=()=>{var _,I;const m={religion:(_=i==null?void 0:i.query)==null?void 0:_.religion,country:(I=i==null?void 0:i.query)==null?void 0:I.country};s.fetchDestinations("",p.value,m.religion??void 0,m.country??void 0).then(c=>{t.value=c}).finally(()=>{setTimeout(()=>{o.value=!1},400)})},e=()=>{o.value=!0,p.value+=5,n()};function a(m){o.value=!0,s.fetchDestinations("",p.value,m.religion,m.country).then(_=>{t.value=_}).finally(()=>{setTimeout(()=>{o.value=!1},100)})}function k(){M.value=!0}function f(m){var _;v.value=(_=m==null?void 0:m.location)==null?void 0:_.split(";")}F(()=>t.value,()=>{var m,_;v.value=(_=(m=t.value[0])==null?void 0:m.location)==null?void 0:_.split(";")},{deep:!0});function g(m){s.fetchDestinations(m).then(_=>{t.value=_})}return J(()=>{B()}),(m,_)=>{const I=lo,c=oe,K=mo;return r(),h("main",ho,[x(y)?(r(),z(I,{key:0,loading:o.value,locations:t.value,popular:l.value,onHandleSearch:g,onOpenFilter:k,onObserve:f,onObserveDestinations:e},null,8,["loading","locations","popular"])):L("",!0),x(d)>900?(r(),h("div",vo,[u("div",fo,[(r(),z(c,{"default-coords":v.value,locations:t.value,key:t.value},null,8,["default-coords","locations"]))])])):L("",!0),b(K,W({show:M.value,religions:$.value,countries:S.value},{onClose:_[0]||(_[0]=O=>M.value=!1),onHandleFilter:a}),null,16)])}}});const Fo=ee(go,[["__scopeId","data-v-1ae22bbe"]]);export{Fo as default};
