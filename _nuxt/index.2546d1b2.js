import{g as W,i as N,a as w,t as E,n as T,f as Y,b as I}from"./index.3ddc6414.js";import{z as d,A as b,Y as x,g,L as _,D as z}from"./entry.7f8d346a.js";function y(r){var e;const t=E(r);return(e=t==null?void 0:t.$el)!=null?e:t}const m=N?window:void 0;function L(...r){let e,t,o,n;if(typeof r[0]=="string"||Array.isArray(r[0])?([t,o,n]=r,e=m):[e,t,o,n]=r,!e)return w;Array.isArray(t)||(t=[t]),Array.isArray(o)||(o=[o]);const a=[],s=()=>{a.forEach(u=>u()),a.length=0},i=(u,c,h,p)=>(u.addEventListener(c,h,p),()=>u.removeEventListener(c,h,p)),l=b(()=>[y(e),E(n)],([u,c])=>{if(s(),!u)return;const h=Y(c)?{...c}:c;a.push(...t.flatMap(p=>o.map(v=>i(u,p,v,h))))},{immediate:!0,flush:"post"}),f=()=>{l(),s()};return I(f),f}function C(){const r=d(!1);return _()&&z(()=>{r.value=!0}),r}function O(r){const e=C();return g(()=>(e.value,Boolean(r())))}function H(r,e={}){const{window:t=m}=e,o=O(()=>t&&"matchMedia"in t&&typeof t.matchMedia=="function");let n;const a=d(!1),s=f=>{a.value=f.matches},i=()=>{n&&("removeEventListener"in n?n.removeEventListener("change",s):n.removeListener(s))},l=x(()=>{o.value&&(i(),n=t.matchMedia(E(r)),"addEventListener"in n?n.addEventListener("change",s):n.addListener(s),a.value=n.matches)});return I(()=>{l(),i(),n=void 0}),a}function D(r,e,t={}){const{root:o,rootMargin:n="0px",threshold:a=.1,window:s=m,immediate:i=!0}=t,l=O(()=>s&&"IntersectionObserver"in s),f=g(()=>{const v=E(r);return(Array.isArray(v)?v:[v]).map(y).filter(T)});let u=w;const c=d(i),h=l.value?b(()=>[f.value,y(o),c.value],([v,S])=>{if(u(),!c.value||!v.length)return;const M=new IntersectionObserver(e,{root:y(S),rootMargin:n,threshold:a});v.forEach(A=>A&&M.observe(A)),u=()=>{M.disconnect(),u=w}},{immediate:i,flush:"post"}):w,p=()=>{u(),h(),c.value=!1};return I(p),{isSupported:l,isActive:c,pause(){u(),c.value=!1},resume(){c.value=!0},stop:p}}function F(r={}){const{window:e=m,behavior:t="auto"}=r;if(!e)return{x:d(0),y:d(0)};const o=d(e.scrollX),n=d(e.scrollY),a=g({get(){return o.value},set(i){scrollTo({left:i,behavior:t})}}),s=g({get(){return n.value},set(i){scrollTo({top:i,behavior:t})}});return L(e,"scroll",()=>{o.value=e.scrollX,n.value=e.scrollY},{capture:!1,passive:!0}),{x:a,y:s}}function P(r={}){const{window:e=m,initialWidth:t=Number.POSITIVE_INFINITY,initialHeight:o=Number.POSITIVE_INFINITY,listenOrientation:n=!0,includeScrollbar:a=!0}=r,s=d(t),i=d(o),l=()=>{e&&(a?(s.value=e.innerWidth,i.value=e.innerHeight):(s.value=e.document.documentElement.clientWidth,i.value=e.document.documentElement.clientHeight))};if(l(),W(l),L("resize",l,{passive:!0}),n){const f=H("(orientation: portrait)");b(f,()=>l())}return{width:s,height:i}}export{D as a,F as b,P as u};
